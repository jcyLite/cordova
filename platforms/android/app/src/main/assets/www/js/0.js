webpackJsonp([0],[,,,,,,,,function(e,i,a){"use strict";var t=a(10),n=a(12),l=a(14),s=a(9),o=a(15);layui.define(function(e){var i="2.1.0",a=layui.zepto,r=layui.laytpl,c=layui["layer-mobile"],d=layui["upload-mobile"],u=layui.device(),m="layui-show",y={},p=function(){this.v=i,f(a("body"),"*[layim-event]",function(e){var i=a(this),t=i.attr("layim-event");E[t]&&E[t].call(this,i,e)})},f=function(e,i,t){var n,l="function"==typeof i,s=function(e){var i=a(this);i.data("lock")||(n||t.call(this,e),n=!1,i.data("lock","true"),setTimeout(function(){i.removeAttr("data-lock")},i.data("locktime")||0))};if(l&&(t=i),e="string"==typeof e?a(e):e,!h)return void(l?e.on("click",s):e.on("click",i,s));l?e.on("touchmove",function(){n=!0}).on("touchend",s):e.on("touchmove",i,function(){n=!0}).on("touchend",i,s)},h=/Android|iPhone|SymbianOS|Windows Phone|iPad|iPod/.test(navigator.userAgent);c.popBottom=function(e){c.close(c.popBottom.index),c.popBottom.index=c.open(a.extend({type:1,content:e.content||"",shade:!1,className:"layim-layer"},e))},p.prototype.config=function(e){e=e||{},e=a.extend({title:"我的IM",isgroup:0,isNewFriend:!0,voice:"default.mp3",chatTitleColor:"#36373C"},e),_(e)},p.prototype.on=function(e,i){return"function"==typeof i&&(y[e]?y[e].push(i):y[e]=[i]),this},p.prototype.chat=function(e){if(window.JSON&&window.JSON.parse)return T(e,-1),this},p.prototype.panel=function(e){return C(e)},p.prototype.cache=function(){return x},p.prototype.getMessage=function(e){return O(e),this},p.prototype.addList=function(e){return D(e),this},p.prototype.removeList=function(e){return F(e),this},p.prototype.setFriendStatus=function(e,i){a(".layim-friend"+e)["online"===i?"removeClass":"addClass"]("layim-list-gray")},p.prototype.setChatStatus=function(e){return j().elem.find(".layim-chat-status").html(e),this},p.prototype.showNew=function(e,i){L(e,i)},p.prototype.content=function(e){return layui.data.content(e)};var v=function(e){return e<10?"0"+(0|e):e};layui.data.date=function(e){var i=new Date(e||new Date);return v(i.getMonth()+1)+"-"+v(i.getDate())+" "+v(i.getHours())+":"+v(i.getMinutes())},layui.data.content=function(e){var i=function(e){return new RegExp("\\n*\\["+(e||"")+"(pre|div|p|table|thead|th|tbody|tr|td|ul|li|ol|li|dl|dt|dd|h2|h3|h4|h5)([\\s\\S]*?)\\]\\n*","g")};return e=(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/@(\S+)(\s+?|$)/g,'@<a href="javascript:;">$1</a>$2').replace(/face\[([^\s\[\]]+?)\]/g,function(e){var i=e.replace(/^face/g,"");return'<img alt="'+i+'" title="'+i+'" src="'+Y[i]+'">'}).replace(/img\[([^\s]+?)\]/g,function(e){return'<img class="layui-layim-photos" src="'+e.replace(/(^img\[)|(\]$)/g,"")+'">'}).replace(/file\([\s\S]+?\)\[[\s\S]*?\]/g,function(e){var i=(e.match(/file\(([\s\S]+?)\)\[/)||[])[1],a=(e.match(/\)\[([\s\S]*?)\]/)||[])[1];return i?'<a class="layui-layim-file" href="'+i+'" download target="_blank"><i class="layui-icon">&#xe61e;</i><cite>'+(a||i)+"</cite></a>":e}).replace(/audio\[([^\s]+?)\]/g,function(e){return'<div class="layui-unselect layui-layim-audio" layim-event="playAudio" data-src="'+e.replace(/(^audio\[)|(\]$)/g,"")+'"><i class="layui-icon">&#xe652;</i><p>音频消息</p></div>'}).replace(/video\[([^\s]+?)\]/g,function(e){return'<div class="layui-unselect layui-layim-video" layim-event="playVideo" data-src="'+e.replace(/(^video\[)|(\]$)/g,"")+'"><i class="layui-icon">&#xe652;</i></div>'}).replace(/a\([\s\S]+?\)\[[\s\S]*?\]/g,function(e){var i=(e.match(/a\(([\s\S]+?)\)\[/)||[])[1],a=(e.match(/\)\[([\s\S]*?)\]/)||[])[1];return i?'<a href="'+i+'" target="_blank">'+(a||i)+"</a>":e}).replace(i(),"<$1 $2>").replace(i("/"),"</$1>").replace(/\n/g,"<br>")};var g,b,x={message:{},chat:[]},_=function(e){console.log(e);var i=e.init||{},n=i.mine||{},l=layui.data("layim-mobile")[n.id]||{},s={base:e,local:l,mine:n,history:l.history||[]};if(x=a.extend(x,s),e.brief)return layui.each(y.ready,function(e,i){i&&i(s)});!function(i){var n=i.mine||{},l=layui.data("layim-mobile")[n.id]||{},s={base:e,local:l,mine:n,friend:i.friend||[],group:i.group||[],history:l.history||[]};s.sortHistory=S(s.history,"historyTime"),x=a.extend(x,s),w(r((0,t.comTpl)({tpl:o.elemTpl,anim:void 0,back:void 0})).render(s)),layui.each(y.ready,function(e,i){i&&i(s)})}(i)},w=function(e){return c.open({type:1,shade:!1,shadeClose:!1,anim:-1,content:e,success:function(e){g=a(e),k(g.find(".layui-layim")),x.base.tabIndex&&E.tab(a(".layui-layim-tab>li").eq(x.base.tabIndex))}})},C=function(e,i){e=e||{};var n=a.extend({},x,{title:e.title||"",data:e.data});return c.open({type:1,shade:!1,shadeClose:!1,anim:-1,content:r((0,t.comTpl)({tpl:e.tpl,anim:-1!==i,back:!0})).render(n),success:function(i){var t=a(i);t.prev().find(".layim-panel").addClass("layui-m-anim-lout"),e.success&&e.success(i),e.isChat||k(t.find(".layim-content"))},end:e.end})},T=function e(i,t,l){return i=i||{},i.id?(c.close(e.index),e.index=C({tpl:n.elemChatTpl,data:i,title:i.name,isChat:!0,success:function(e){b=a(e),$(),q(),delete x.message[i.type+i.id],L("Msg");var t=j(),n=t.elem.find(".layim-chat-main");layui.each(y.chatChange,function(e,i){i&&i(t)}),k(n),t.textarea.on("focus",function(){setTimeout(function(){n.scrollTop(n[0].scrollHeight+1e3)},500)})},end:function(){b=null,M.time=0}},t)):c.msg("非法用户")},k=function(e){u.ios&&e.on("touchmove",function(i){var a=e.scrollTop();a<=0&&(e.scrollTop(1),i.preventDefault(i)),this.scrollHeight-a-e.height()<=0&&(e.scrollTop(e.scrollTop()-1),i.preventDefault(i))})},j=function(){if(!b)return{};var e=b.find(".layim-chat");return{elem:e,data:JSON.parse(decodeURIComponent(e.find(".layim-chat-tool").data("json"))),textarea:e.find("input")}},S=function(e,i,a){var t=[],n=function(e,a){var t=e[i],n=a[i];return n<t?-1:n>t?1:0};return layui.each(e,function(e,i){t.push(i)}),t.sort(n),a&&t.reverse(),t},N=function(e){var i=layui.data("layim-mobile")[x.mine.id]||{},a={},t=i.history||{};t[e.type+e.id];if(g){var n=g.find(".layim-list-history");e.historyTime=(new Date).getTime(),e.sign=e.content,t[e.type+e.id]=e,i.history=t,layui.data("layim-mobile",{key:x.mine.id,value:i});var l=n.find(".layim-"+e.type+e.id),o=(x.message[e.type+e.id]||[]).length,c=function(){l=n.find(".layim-"+e.type+e.id),l.find("p").html(e.content),o>0&&l.find(".layim-msg-status").html(o).addClass(m)};if(l.length>0)c(),n.prepend(l.clone()),l.remove();else{a[e.type+e.id]=e;var d=r((0,s.listTpl)({type:"history",item:"d.data"})).render({data:a});n.prepend(d),c(),n.find(".layim-null").remove()}L("Msg")}},L=function(e,i){if(!i){var i;layui.each(x.message,function(){return i=!0,!1})}a("#LAY_layimNew"+e)[i?"addClass":"removeClass"](m)},M=function e(){var i={username:x.mine?x.mine.username:"访客",avatar:x.mine?x.mine.avatar:layui.cache.dir+"css/pc/layim/skin/logo.jpg",id:x.mine?x.mine.id:null,mine:!0},a=j(),t=a.elem.find(".layim-chat-main ul"),n=a.data,s=x.base.maxLength||3e3,o=(new Date).getTime(),d=a.textarea;if(i.content=d.val(),""!==i.content){if(i.content.length>s)return c.msg("内容最长不能超过"+s+"个字符");o-(e.time||0)>6e4&&(t.append('<li class="layim-chat-system"><span>'+layui.data.date()+"</span></li>"),e.time=o),t.append(r(l.elemChatMainTpl).render(i));var u={mine:i,to:n},m={username:u.mine.username,avatar:u.mine.avatar,id:n.id,type:n.type,content:u.mine.content,timestamp:o,mine:!0};I(m),layui.each(y.sendMessage,function(e,i){i&&i(u)}),n.content=i.content,N(n),P(),d.val(""),d.next().addClass("layui-disabled")}},A=function(){var e=document.createElement("audio");e.src=layui.cache.dir+"css/modules/layim/voice/"+x.base.voice,e.play()},H={},O=function(e){e=e||{};var i={},t=j(),n=t.data||{},s=n.id==e.id&&n.type==e.type;e.timestamp=e.timestamp||(new Date).getTime(),e.system||I(e),H=JSON.parse(JSON.stringify(e)),x.base.voice&&A(),(!b&&e.content||!s)&&(x.message[e.type+e.id]?x.message[e.type+e.id].push(e):x.message[e.type+e.id]=[e]);var i={};if("friend"===e.type){var o;layui.each(x.friend,function(i,a){if(layui.each(a.list,function(i,a){if(a.id==e.id)return e.type="friend",e.name=a.username,o=!0}),o)return!0}),o||(e.temporary=!0)}else"group"===e.type?layui.each(x.group,function(a,t){if(t.id==e.id)return e.type="group",e.name=e.groupname=t.groupname,i.avatar=t.avatar,!0}):e.name=e.name||e.username||e.groupname;var c=a.extend({},e,{avatar:i.avatar||e.avatar});if("group"===e.type&&delete c.username,N(c),b&&s){var d=b.find(".layim-chat"),u=d.find(".layim-chat-main ul");e.system?u.append('<li class="layim-chat-system"><span>'+e.content+"</span></li>"):""!==e.content.replace(/\s/g,"")&&(e.timestamp-(M.time||0)>6e4&&(u.append('<li class="layim-chat-system"><span>'+layui.data.date(e.timestamp)+"</span></li>"),M.time=e.timestamp),u.append(r(l.elemChatMainTpl).render(e))),P()}},I=function(e){var i=layui.data("layim-mobile")[x.mine.id]||{},a=i.chatlog||{};a[e.type+e.id]?(a[e.type+e.id].push(e),a[e.type+e.id].length>20&&a[e.type+e.id].shift()):a[e.type+e.id]=[e],i.chatlog=a,layui.data("layim-mobile",{key:x.mine.id,value:i})},q=function(){var e=layui.data("layim-mobile")[x.mine.id]||{},i=j(),a=e.chatlog||{},t=i.elem.find(".layim-chat-main ul");layui.each(a[i.data.type+i.data.id],function(e,i){(new Date).getTime()>i.timestamp&&i.timestamp-(M.time||0)>6e4&&(t.append('<li class="layim-chat-system"><span>'+layui.data.date(i.timestamp)+"</span></li>"),M.time=i.timestamp),t.append(r(l.elemChatMainTpl).render(i))}),P()},D=function(e){var i,a={},t=g.find(".layim-list-"+e.type);if(x[e.type])if("friend"===e.type)layui.each(x.friend,function(t,n){if(e.groupid==n.id)return layui.each(x.friend[t].list,function(a,t){if(t.id==e.id)return i=!0}),i?c.msg("好友 ["+(e.username||"")+"] 已经存在列表中",{anim:6}):(x.friend[t].list=x.friend[t].list||[],a[x.friend[t].list.length]=e,e.groupIndex=t,x.friend[t].list.push(e),!0)});else if("group"===e.type){if(layui.each(x.group,function(a,t){if(t.id==e.id)return i=!0}),i)return c.msg("您已是 ["+(e.groupname||"")+"] 的群成员",{anim:6});a[x.group.length]=e,x.group.push(e)}if(!i){var n=r((0,s.listTpl)({type:e.type,item:"d.data",index:"friend"===e.type?"data.groupIndex":null})).render({data:a});if("friend"===e.type){var l=t.children("li").eq(e.groupIndex);l.find(".layui-layim-list").append(n),l.find(".layim-count").html(x.friend[e.groupIndex].list.length),l.find(".layim-null")[0]&&l.find(".layim-null").remove()}else"group"===e.type&&(t.append(n),t.find(".layim-null")[0]&&t.find(".layim-null").remove())}},F=function(e){var i=g.find(".layim-list-"+e.type);x[e.type]&&("friend"===e.type?layui.each(x.friend,function(a,t){layui.each(t.list,function(t,n){if(e.id==n.id){var l=i.children("li").eq(a);l.find(".layui-layim-list").children("li");return l.find(".layui-layim-list").children("li").eq(t).remove(),x.friend[a].list.splice(t,1),l.find(".layim-count").html(x.friend[a].list.length),0===x.friend[a].list.length&&l.find(".layui-layim-list").html('<li class="layim-null">该分组下已无好友了</li>'),!0}})}):"group"===e.type&&layui.each(x.group,function(a,t){if(e.id==t.id)return i.children("li").eq(a).remove(),x.group.splice(a,1),0===x.group.length&&i.html('<li class="layim-null">暂无群组</li>'),!0}))},P=function(){var e=j(),i=e.elem.find(".layim-chat-main"),a=i.find("ul"),t=a.children(".layim-chat-li");if(t.length>=20){var n=t.eq(0);n.prev().remove(),a.prev().hasClass("layim-chat-system")||a.before('<div class="layim-chat-system"><span layim-event="chatLog">查看更多记录</span></div>'),n.remove()}i.scrollTop(i[0].scrollHeight+1e3)},$=function(){var e=j(),i=e.textarea,a=i.next();i.off("keyup").on("keyup",function(e){13===e.keyCode&&(e.preventDefault(),M()),a[""===i.val()?"addClass":"removeClass"]("layui-disabled")})},Y=function(){var e=["[微笑]","[嘻嘻]","[哈哈]","[可爱]","[可怜]","[挖鼻]","[吃惊]","[害羞]","[挤眼]","[闭嘴]","[鄙视]","[爱你]","[泪]","[偷笑]","[亲亲]","[生病]","[太开心]","[白眼]","[右哼哼]","[左哼哼]","[嘘]","[衰]","[委屈]","[吐]","[哈欠]","[抱抱]","[怒]","[疑问]","[馋嘴]","[拜拜]","[思考]","[汗]","[困]","[睡]","[钱]","[失望]","[酷]","[色]","[哼]","[鼓掌]","[晕]","[悲伤]","[抓狂]","[黑线]","[阴险]","[怒骂]","[互粉]","[心]","[伤心]","[猪头]","[熊猫]","[兔子]","[ok]","[耶]","[good]","[NO]","[赞]","[来]","[弱]","[草泥马]","[神马]","[囧]","[浮云]","[给力]","[围观]","[威武]","[奥特曼]","[礼物]","[钟]","[话筒]","[蜡烛]","[蛋糕]"],i={};return layui.each(e,function(e,a){i[a]=layui.cache.dir+"images/face/"+e+".gif"}),i}(),J=layui.stope,B=function(e,i,a){var t,n=e.value;a||e.focus(),document.selection?(t=document.selection.createRange(),document.selection.empty(),t.text=i):(t=[n.substring(0,e.selectionStart),i,n.substr(e.selectionEnd)],a||e.focus(),e.value=t.join(""))},E={chat:function(e){var i=layui.data("layim-mobile")[x.mine.id]||{},t=e.data("type"),n=e.data("index"),l=e.attr("data-list")||e.index(),s={};"friend"===t?s=x[t][n].list[l]:"group"===t?s=x[t][l]:"history"===t&&(s=(i.history||{})[n]||{}),s.name=s.name||s.username||s.groupname,"history"!==t&&(s.type=t),T(s,!0),a(".layim-"+s.type+s.id).find(".layim-msg-status").removeClass(m)},spread:function(e){var i=e.attr("lay-type"),a="true"===i?"false":"true",t=layui.data("layim-mobile")[x.mine.id]||{};e.next()["true"===i?"removeClass":"addClass"](m),t["spread"+e.parent().index()]=a,layui.data("layim-mobile",{key:x.mine.id,value:t}),e.attr("lay-type",a),e.find(".layui-icon").html("true"===a?"&#xe61a;":"&#xe602;")},tab:function(e){var i=e.index(),a=".layim-tab-content";e.addClass("layim-this").siblings().removeClass("layim-this"),g.find(a).eq(i).addClass(m).siblings(a).removeClass(m)},back:function(e){var i=e.parents(".layui-m-layer").eq(0),a=i.attr("index");setTimeout(function(){c.close(a)},300),e.parents(".layim-panel").eq(0).removeClass("layui-m-anim-left").addClass("layui-m-anim-rout"),i.prev().find(".layim-panel").eq(0).removeClass("layui-m-anim-lout").addClass("layui-m-anim-right"),layui.each(y.back,function(e,i){setTimeout(function(){i&&i()},200)})},send:function(){M()},face:function(e,i){var t="",n=j(),l=n.textarea;layui.each(Y,function(e,i){t+='<li title="'+e+'"><img src="'+i+'"></li>'}),t='<ul class="layui-layim-face">'+t+"</ul>",c.popBottom({content:t,success:function(e){var i=a(e).find(".layui-layim-face").children("li");f(i,function(){return B(l[0],"face"+this.title+" ",!0),l.next()[""===l.val()?"addClass":"removeClass"]("layui-disabled"),!1})}});var s=a(document);h?s.off("touchend",E.faceHide).on("touchend",E.faceHide):s.off("click",E.faceHide).on("click",E.faceHide),J(i)},faceHide:function(){c.close(c.popBottom.index),a(document).off("touchend",E.faceHide).off("click",E.faceHide)},image:function(e){var i=e.data("type")||"images",a={images:"uploadImage",file:"uploadFile"},t=j(),n=x.base[a[i]]||{};d({url:n.url||"",method:n.type,elem:e.find("input")[0],unwrap:!0,type:i,success:function(e){0==e.code?(e.data=e.data||{},"images"===i?B(t.textarea[0],"img["+(e.data.src||"")+"]"):"file"===i&&B(t.textarea[0],"file("+(e.data.src||"")+")["+(e.data.name||"下载文件")+"]"),M()):c.msg(e.msg||"上传失败")}})},extend:function(e){var i=e.attr("lay-filter"),a=j();layui.each(y["tool("+i+")"],function(i,t){t&&t.call(e,function(e){B(a.textarea[0],e)},M,a)})},newFriend:function(){layui.each(y.newFriend,function(e,i){i&&i()})},group:function(){C({title:"群聊",tpl:['<div class="layui-layim-list layim-list-group">',(0,s.listTpl)({type:"group",item:"d.group"}),"</div>"].join(""),data:{}})},detail:function(){var e=j();layui.each(y.detail,function(i,a){a&&a(e.data)})},playAudio:function(e){var i=e.data("audio"),a=i||document.createElement("audio"),t=function(){a.pause(),e.removeAttr("status"),e.find("i").html("&#xe652;")};return e.data("error")?c.msg("播放音频源异常"):a.play?void(e.attr("status")?t():(i||(a.src=e.data("src")),a.play(),e.attr("status","pause"),e.data("audio",a),e.find("i").html("&#xe651;"),a.onended=function(){t()},a.onerror=function(){c.msg("播放音频源异常"),e.data("error",!0),t()})):c.msg("您的浏览器不支持audio")},playVideo:function(e){var i=e.data("src");if(!document.createElement("video").play)return c.msg("您的浏览器不支持video");c.close(E.playVideo.index),E.playVideo.index=c.open({type:1,anim:!1,style:"width: 100%; height: 50%;",content:'<div style="background-color: #000; height: 100%;"><video style="position: absolute; width: 100%; height: 100%;" src="'+i+'" autoplay="autoplay"></video></div>'})},chatLog:function(e){var i=j();layui.each(y.chatlog,function(e,a){a&&a(i.data,i.elem.find(".layim-chat-main>ul"))})},moreList:function(e){var i=e.attr("lay-filter");layui.each(y.moreList,function(e,a){a&&a({alias:i})})},about:function(){c.open({content:'<p style="padding-bottom: 5px;">LayIM属于付费产品，欢迎通过官网获得授权，促进良性发展！</p><p>当前版本：layim mobile v2.1.0</p><p>版权所有：<a href="http://layim.layui.com" target="_blank">layim.layui.com</a></p>',className:"layim-about",shadeClose:!1,btn:"我知道了"})}};e("layim-mobile",new p)}).addcss("modules/layim/mobile/layim.css?v=2.10","skinlayim-mobilecss")},function(e,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.listTpl=function(e){var i={friend:"该分组下暂无好友",group:"暂无群组",history:"暂无任何消息"};return e=e||{},"history"===e.type&&(e.item=e.item||"d.sortHistory"),["{{# var length = 0; layui.each("+e.item+", function(i, data){ length++; }}",'<li layim-event="chat" data-type="'+e.type+'" data-index="'+(e.index?"{{"+e.index+"}}":("history"===e.type?"{{data.type}}":e.type)+"{{data.id}}")+'" class="layim-'+("history"===e.type?"{{data.type}}":e.type)+'{{data.id}} {{ data.status === "offline" ? "layim-list-gray" : "" }}"><div><img src="{{data.avatar}}"></div><span>{{ data.username||data.groupname||data.name||"佚名" }}</span><p>{{ data.remark||data.sign||"" }}</p><span class="layim-msg-status">new</span></li>',"{{# }); if(length === 0){ }}",'<li class="layim-null">'+(i[e.type]||"暂无数据")+"</li>","{{# } }}"].join("")}},function(e,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=a(11);i.comTpl=t},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="layim-panel '+(null==(__t=anim?" layui-m-anim-left":"")?"":__t)+'">\r\n\t<div class="layim-title" style="background-color: {{d.base.chatTitleColor}};">\r\n\t\t<p> \r\n\t\t\t'+(null==(__t=back?'<i class="layui-icon layim-chat-back" layim-event="back">&#xe603;</i>':"")?"":__t)+' \r\n\t\t\t{{ d.title || d.base.title }}\r\n\t\t\t<span class="layim-chat-status"></span>\r\n\t\t\t{{# if(d.data){ }} \r\n\t\t\t\t{{# if(d.data.type === "group"){ }} \r\n\t\t\t\t\t<i class="layui-icon layim-chat-detail" layim-event="detail">&#xe613;</i> \r\n\t\t\t\t{{# } }} \r\n\t\t\t{{# } }} \r\n\t\t</p>\r\n\t</div>\r\n\t<div class="layui-unselect layim-content">\r\n\t\t'+(null==(__t=tpl)?"":__t)+"\r\n\t</div>\r\n</div>";return __p}},function(e,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=a(13)();i.elemChatTpl=t},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="layim-chat layim-chat-{{d.data.type}}">\r\n\t<div class="layim-chat-main">\r\n\t\t<ul></ul>\r\n\t</div>\r\n\t<div class="layim-chat-footer">\r\n\t\t<div class="layim-chat-send"><input type="text" autocomplete="off"><button class="layim-send layui-disabled" layim-event="send">发送</button></div>\r\n\t\t<div class="layim-chat-tool" data-json="{{encodeURIComponent(JSON.stringify(d.data))}}"> <span class="layui-icon layim-tool-face" title="选择表情" layim-event="face">&#xe60c;</span> {{# if(d.base && d.base.uploadImage){ }} <span class="layui-icon layim-tool-image" title="上传图片" layim-event="image">&#xe60d;<input type="file" name="file" accept="image/*"></span> {{# }; }} {{# if(d.base && d.base.uploadFile){ }} <span class="layui-icon layim-tool-image" title="发送文件" layim-event="image" data-type="file">&#xe61d;<input type="file" name="file"></span> {{# }; }} {{# layui.each(d.base.tool, function(index, item){ }} <span class="layui-icon  {{item.iconClass||\\" \\ "}} layim-tool-{{item.alias}}" title="{{item.title}}" layim-event="extend" lay-filter="{{ item.alias }}">{{item.iconUnicode||""}}</span> {{# }); }} </div>\r\n\t</div>\r\n</div>';return __p}},function(e,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=['<li class="layim-chat-li{{ d.mine ? " layim-chat-mine" : "" }}">','<div class="layim-chat-user"><img src="{{ d.avatar }}"><cite>','{{ d.username||"佚名" }}',"</cite></div>",'<div class="layim-chat-text">{{ layui.data.content(d.content||"&nbsp;") }}</div>',"</li>"].join("");i.elemChatMainTpl=t},function(e,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.elemTpl=void 0;var t=a(9);i.elemTpl=['<div class="layui-layim">','<div class="layim-tab-content layui-show">','<ul class="layim-list-friend">','<ul class="layui-layim-list layui-show layim-list-history">',(0,t.listTpl)({type:"history"}),"</ul>","</ul>","</div>",'<div class="layim-tab-content">','<ul class="layim-list-top">',"{{# if(d.base.isNewFriend){ }}",'<li layim-event="newFriend"><i class="layui-icon">&#xe654;</i>新的朋友<i class="layim-new" id="LAY_layimNewFriend"></i></li>',"{{# } if(d.base.isgroup){ }}",'<li layim-event="group"><i class="layui-icon">&#xe613;</i>群聊<i class="layim-new" id="LAY_layimNewGroup"></i></li>',"{{# } }}","</ul>",'<ul class="layim-list-friend">','{{# layui.each(d.friend, function(index, item){ var spread = d.local["spread"+index]; }}',"<li>",'<h5 layim-event="spread" lay-type="{{ spread }}"><i class="layui-icon">{{# if(spread === "true"){ }}&#xe61a;{{# } else {  }}&#xe602;{{# } }}</i><span>{{ item.groupname||"未命名分组"+index }}</span><em>(<cite class="layim-count"> {{ (item.list||[]).length }}</cite>)</em></h5>','<ul class="layui-layim-list {{# if(spread === "true"){ }}'," layui-show",'{{# } }}">',(0,t.listTpl)({type:"friend",item:"item.list",index:"index"}),"</ul>","</li>","{{# }); if(d.friend.length === 0){ }}",'<li><ul class="layui-layim-list layui-show"><li class="layim-null">暂无联系人</li></ul>',"{{# } }}","</ul>","</div>",'<div class="layim-tab-content">','<ul class="layim-list-top">',"{{# layui.each(d.base.moreList, function(index, item){ }}",'<li layim-event="moreList" lay-filter="{{ item.alias }}">','<i class="layui-icon {{item.iconClass||""}}">{{item.iconUnicode||""}}</i>{{item.title}}<i class="layim-new" id="LAY_layimNew{{ item.alias }}"></i>',"</li>","{{# }); if(!d.base.copyright){ }}",'<li layim-event="about"><i class="layui-icon">&#xe60b;</i>关于<i class="layim-new" id="LAY_layimNewAbout"></i></li>',"{{# } }}","</ul>","</div>","</div>",'<ul class="layui-unselect layui-layim-tab">','<li title="消息" layim-event="tab" lay-type="message" class="layim-this"><i class="layui-icon">&#xe611;</i><span>消息</span><i class="layim-new" id="LAY_layimNewMsg"></i></li>','<li title="联系人" layim-event="tab" lay-type="friend"><i class="layui-icon">&#xe612;</i><span>联系人</span><i class="layim-new" id="LAY_layimNewList"></i></li>','<li title="更多" layim-event="tab" lay-type="more"><i class="layui-icon">&#xe670;</i><span>更多</span><i class="layim-new" id="LAY_layimNewMore"></i></li>',"</ul>"].join("")}]);